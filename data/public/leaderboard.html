<!DOCTYPE html>
<head>
	<meta charset="UTF-8">
	<meta name="robots" content="noindex,nofollow,noodp" />
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- CSS -->
	<link href="/assets/css/compiled.css" rel="stylesheet">
	<!-- <link href="/assets/css/jquery.mobile-1.4.3.css" rel="stylesheet"> -->
	<link href="/assets/css/jquery.mobile.structure-1.4.3.css" rel="stylesheet">
	<!-- <link href="/assets/css/jquery.mobile.theme-1.4.3.css" rel="stylesheet"> -->

	<script src="/assets/js/jquery-1.8.3.min.js"></script>

	<script src="/assets/js/socket.io-1.1.0.js"></script>

	<script>
	  	io = io.connect();

		// Send the ready event.
		io.emit('ready');

		setInterval(function() {
		  io.emit('ready');
		}, 5000);

		// Listen for the new visitor event.
		io.on('TopUserResponse', function(data) {
			if(data.topResults){
				$('#leaderboard tbody').html('');
				results = data.topResults;
				var i = 1;
				for(key in results){
					$('#leaderboard tbody').append('<tr><td>' + i++ + '</td><td>' + results[key].Name + '</td><td>' + results[key].PollResult + '</td><td>' + results[key].FormatedTimeCompleted + '</td></tr>');
				}
			}
		    //$('body').append('<p>New visitor, hooray! ' + new Date().toString() +'</p>')
		});
	</script>

</head>
<body>
	<!-- LEADERBOARD -->
	<div data-role="page" id="slide50" class="leaderboard slide-template">
		<div class="row">
			<div class="small-16 column">
				<h3>Who Knows Their Stuff?</h3>
				<h5>These 10 people are the cream of the crop!</h5>
				<div class="table-wrap">
					<table id="leaderboard" border="0" cellspacing="0" cellpadding="0" align="center">
						<thead>
							<tr>
								<th>&nbsp;</th>
								<th>Name</th>
								<th>Percent Correct</th>
								<th>Completion Time</th>
							</tr>
						</thead>
						<tbody>
							
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div><!-- /page -->

</body>
</html>
